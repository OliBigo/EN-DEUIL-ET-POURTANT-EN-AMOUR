<script>
import Comments from "@/components/Comments.vue";
import pdf from "@/public/EN_DEUIL_ET_POURTANT_NUMÉRIQUE_24_MARS.pdf";
import epub from "@/public/EN_DEUIL_ET_POURTANT_EN_AMOUR_19_avril_2024.epub";
import AddComment from "./AddComment.vue";
const dataSommaire = {
  titre: [
    "En deuil et pourtant en amour",
    "La joie de vivre retrouvée quand l’ombre et la lumière se tutoient",
  ],
  sommaire: [
    "Écrit à quatre mains, le récit de deux endeuillés à qui la vie offre l’immense privilège d’aimer à nouveau. Malgré leurs amours en allées résonnant toujours sur les pavés de leur passé, ce bonheur défie leur vieillissement. Complicité, amitié, tendresse et, à leur étonnement, sensualité et sexualité sont au rendez-vous.",
    "Elle et Lui s’expriment à tour de rôle afin de raconter leur cheminement. En prenant le risque de se rendre vulnérables, en prenant le temps de s’apprivoiser, en entrelaçant leurs mots, un nouveau Nous apparaît! Dans le respect de leur autonomie, en dépit de l’âge, en dépit de la tristesse, la joie d’être à deux les comblent encore une fois!",
    "Ce témoignage se lit comme un roman. Il se veut une lueur d’espoir pour toute personne seule à la recherche de l’amour, particulièrement les 50 ans et plus.",
  ],
  chapitres: [
    "Sur l’oreiller",
    "Qui es-tu?",
    "Balbutiements",
    "À l’unisson",
    "Nostalgie",
    "Harmonie",
    "Lune de miel",
    "Passé présent",
    "Cent fois",
    "Pianissimo",
    "Eaux vives",
    "Dhalias et hortensias",
    "Legs",
    "Que serais-je sans toi…",
    "Nous",
  ],
  extrait: [
    "Alanguie, elle ferme les yeux dans cet espace-temps déployé. Se blottit tout près de lui dans ce cocon n’appartenant qu’à eux. Sous sa cuisse, elle sent la chaleur soyeuse de la sienne. Du bout des doigts, elle la caresse, lentement, remonte le long de la hanche, de la poitrine, de la gorge, puis atteint le visage de son amoureux.",
    "Aimantant ses yeux bruns aux siens, bleus, elle visite de l’index chaque trait, chaque vallon, chaque sillon, effleure les vagues du front, caresse les cheveux blancs épars, reprend son trajet vers le visage aimé, les sourcils grisonnants, le nez fin, les lèvres souriantes. Rides, ridules, taches brunes ont disparu par la magie de l’amour!",
    "En un total abandon, corps nus assouvis, membres entrelacés, les amants se laissent envahir par la douce mélopée.",
    "Bercés par Solace. Consolation. Guitare langoureuse, violoncelle sublime se donnent la réplique.",
    "À deux. À nouveau. Il aime. Elle aime. Il est aimé. Elle est aimée.",
    "Doucement, il emprisonne son visage entre ses mains et lui répète encore une fois : « Je t’aime, amore » Et elle de lui répondre : « Moi aussi, je t’aime » en déposant un baiser espiègle sur le bout de son nez.",
    "Le temps d’une petite éternité, tous deux plongent dans le regard de l’autre et aperçoivent tout au fond de leurs pupilles ce qui pourrait bien ressembler à l’âme de leur partenaire. La sentant frissonner, il remonte tendrement sur elle la couverture, lui en recouvre les épaules comme d’un châle tricoté avec amour. Il la serre encore plus fort dans ses bras. Chaleur partagée! Extase retrouvée! Et pourtant… ces deux êtres l’ont échappé belle.",
    "Vulnérables, leurs ventres sont pour l’instant à l’abri entre leurs corps fusionnés. Après la volupté demeure la tendresse. Toujours, la tendresse.",
    "Bercés par Solace. Réconfort. Au gré des accords, leurs mains caressent leurs corps.",
    "Elle et lui gardent silence un long moment. Jouissant de leur intimité. Savourant cette sensualité. Se faisant la tendresse. Encore et encore. Ne plus jamais sortir de ce lit douillet. Maintenir indéfiniment cette étreinte des regards.",
    "Alors, elle les revoit allongés sur un lit à baldaquin blanc au bord de la plage, sous les étoiles du ciel noir velours de Juan Dolio. Elle joint ses doigts aux siens et lui murmure à l’oreille : « Tu te souviens, en République dominicaine, quand je t’ai proposé spontanément d’écrire ensemble le récit de notre histoire d’amour? Ce serait le bon moment, non? » Enthousiasmé, il lui répond d’emblée : « Eh que j’t’aime toi! Viens ici! » Il la couvre de baisers sonores. Ils éclatent de rire. Oui, ils vont s’en donner à cœur joie. Et peut-être même offrir un peu d’espoir à d’autres personnes endeuillées, esseulées ou craignant de le devenir…",
    "En les invitant à se lancer, tout comme eux, à la recherche de Solace!",
  ],
  description: [
    "Format 15 cm x 23 cm (6 po x 9 po) – 177 pages avec mise en page",
    "Première et quatrième de couverture en couleur",
  ],
  coordonnées: [
    "Suzanne Bougie – 1255, rue Dion, Val-David (Québec) J0N 2N0 (514) 892-3106 – suzannebougie13@gmail.com",
    "Réal Burelle – 218-1811, rue de Clignancourt, Saint-Jérôme (Québec) (438) 988-1024 – realburelle@hotmail.com",
  ],
  feedback: [
    [
      "Me voici soulagé, car je redoutais que l’ivresse de votre amour naissant n’éclabousse des endeuillés encore aux prises avec leur chagrin ou toujours à la recherche de l’âme sœur. C’est la sobriété de la narration qui concourt à mon soulagement.",
      "Vous vous exprimez spontanément, sans filtre, mais sans vous laisser entraîner par votre plaisir évident d’écrire. En plus de l’expression claire et du ton naturel, cette sobriété contribue à garder son élan à votre récit et à soutenir l’intérêt. Toutefois, cela ne m’a pas empêché de verser quelques larmes lors de l’évocation des circonstances ayant entouré le décès de votre conjoint, de votre conjointe.",
      "J’aime la liberté avec laquelle vous faites référence à Richard et à Micheline tout au long de votre récit. J’y ai découvert des scènes attendrissantes et fort belles. Ces références font partie intégrante de votre projet et vous les faites avec tact.",
      "Les poèmes sont bien choisis et offrent un écho senti de votre histoire.",
    ],
    [
      "J’ai été émue et captivée par cette unique introspection à deux voix qui se lit aisément grâce à une écriture remarquable, vivante, rythmée, imagée. Prose et poésie se relancent et se complètent tout au long de ce cheminement de l’ombre à la lumière.",
      "L’intimité partagée de ces deux endeuillés amoureux est touchante et porte à la réflexion. J’ai essuyé quelques larmes en lisant des passages poignants, mais j’ai ri aussi devant les hésitations et les doutes de ces deux « ados » septuagénaires redécouvrant l’amour. Bravo!",
    ],
    [
      "Votre témoignage est absolument convaincant. Le récit des décès de vos partenaires fait pleurer, mais nous sommes vite réconfortés par les moments de tendresse et d’amour authentiques qui jalonnent votre parcours.",
      "L’émerveillement que vous vivez grâce à cette nouvelle histoire d’amour, malgré les souvenirs pénibles en arrière-fond, est fort inspirant. Votre écriture à tous les deux est belle, riche et agréable à lire.",
    ],
    [
      "Quelle originalité que de nous présenter vos premiers courriels, vos douces correspondances. J’ai aimé lire vos amours passées et nouvelles. Merci de nous décrire vos corps qui vibrent, pourquoi diantre cesseraient-ils? En tous cas, comme vous, moi, j’y crois. Vive les ressacs océaniques!",
      "Réal, quels magnifiques poèmes et quelle délicatesse t’habite. Suzanne, ce que je suis de nouveau chavirée en lisant les trois extraits de ton Témoignage d’une endeuillée. Quelle superbe idée!",
      "Je vous remercie d’avoir partagé vos états d’âme, votre belle écriture, vos talents respectifs et surtout votre sensibilité. Longue vie à vous deux dans l’intensité.",
    ],
  ],
};

export default {
  mounted() {
    const parentElement = document.getElementById("comments");
    const button = document.getElementById("comments-button");
    const text = document.createElement("p");
    text.style.textAlign = "justify";
    text.style.padding = "5px 24px 0px 24px";
    text.style.cursor = "pointer";
    text.style.fontSize = "0.9em";
    text.style.color = "#696969";

    button.onmouseenter = () => {
      text.style.backgroundColor = "#F6F6F6";
    };
    button.onmouseleave = () => {
      text.style.backgroundColor = "transparent";
      button.style.backgroundColor = "transparent";
    };

    text.onmouseenter = () => {
      text.style.backgroundColor = "#F6F6F6";
      button.style.backgroundColor = "#F6F6F6";
    };
    text.onmouseleave = () => {
      text.style.backgroundColor = "transparent";
      button.style.backgroundColor = "transparent";
    };

    const node = document.createTextNode(
      "Après votre lecture, cliquez ici pour ajouter vos commentaires. Nous aimerions beaucoup connaître vos impressions. Ce sera notre plus belle récompense. Merci à l'avance!"
    );
    text.appendChild(node);
    
    text.onclick = () => {
      if (this.panel === 5) {
        this.panel = undefined;
      } else {
        this.panel = 5;
        document.getElementById("comments").scrollIntoView();
      }
    };
    parentElement.insertBefore(text, parentElement.childNodes[5]);
  },
  components: {
    Comments,
    AddComment,
  },
  data() {
    return {
      panel: undefined,
      dataSommaire,
      pdf,
      epub,
    };
  },
};
</script>

<template>
  <i>Cliquer sur la petite flèche à droite pour voir le contenu de chaque élément</i>
  <v-expansion-panels variant="accordion" v-model="panel">
    <v-expansion-panel>
      <v-expansion-panel-title>Sommaire</v-expansion-panel-title>
      <v-expansion-panel-text
        v-for="(summ, i) in dataSommaire.sommaire"
        :key="i"
        >{{ summ }}</v-expansion-panel-text
      >
    </v-expansion-panel>

    <v-expansion-panel>
      <v-expansion-panel-title>Chapitres</v-expansion-panel-title>
      <v-expansion-panel-text
        ><v-list :lines="false">
          <v-list-item
            v-for="(chapter, i) in dataSommaire.chapitres"
            :key="i"
            :title="`${chapter}`"
          /> </v-list
      ></v-expansion-panel-text>
    </v-expansion-panel>

    <v-expansion-panel>
      <v-expansion-panel-title>Extrait</v-expansion-panel-title>
      <v-expansion-panel-text
        v-for="(text, i) in dataSommaire.extrait"
        :key="i"
      >
        {{ text }}
      </v-expansion-panel-text>
    </v-expansion-panel>

    <v-expansion-panel>
      <v-expansion-panel-title
        >Qu'en pense le comité de lecture</v-expansion-panel-title
      >
      <v-expansion-panel-text>
        <v-list lines="two">
          <v-list-item v-for="(comment, i) in dataSommaire.feedback" :key="i">
            <v-card variant="tonal">
              <v-card-text
                v-for="(paragraph, j) in comment"
                :key="j"
                :class="j !== 0 ? 'comments-text' : null"
              >
                {{ paragraph }}
              </v-card-text>
            </v-card>
          </v-list-item>
        </v-list>
      </v-expansion-panel-text>
    </v-expansion-panel>

    <v-expansion-panel>
      <v-expansion-panel-title
        >Choisir votre mode de lecture gratuit</v-expansion-panel-title
      >
      <v-expansion-panel-text>
        <a :href="pdf" download="En deuil et pourtant en amour.pdf"
          >Télécharger le livre en format PDF (ordinateur et tablette)</a
        >
        <br />
        <a :href="epub" download="En deuil et pourtant en amour.epub"
          >Télécharger le livre en format ePub (liseuse)</a
        >
        <br />
        <a :href="pdf" target="_blank">Lire directement en cliquant ici</a>
      </v-expansion-panel-text>
    </v-expansion-panel>

    <v-expansion-panel id="comments">
      <v-expansion-panel-title id="comments-button"
        >Ajoutez vos commentaires
      </v-expansion-panel-title>
      <v-expansion-panel-text>
        <add-comment />
      </v-expansion-panel-text>
    </v-expansion-panel>
  </v-expansion-panels>
</template>

<style scoped>
.v-expansion-panel-text {
  text-align: justify;
}

.v-card-text {
  text-align: justify;
}

.extrait {
  padding: 2%;
}

.v-expansion-panel-title {
  color: "secondary";
}

.comments-text {
  padding-top: 0;
}
</style>
